<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SwisCasino - Aero Luxury</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;700&display=swap');

        body {
            margin: 0; padding: 0; height: 100vh; display: flex; align-items: center; justify-content: center;
            font-family: 'Ubuntu', sans-serif;
            background: #0078d7 url('https://images.unsplash.com/photo-1500628550463-c8881a54d4d4?auto=format&fit=crop&w=1500&q=80') center/cover no-repeat;
            overflow: hidden; color: #003366;
        }

        /* –ü–†–û–§–ò–õ–¨ –ò –ö–ù–û–ü–ö–ê –í–´–í–û–î–ê */
        .user-profile {
            position: fixed; top: 15px; left: 15px; z-index: 100;
            display: flex; align-items: center; gap: 10px;
            background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            padding: 5px 12px 5px 5px; border-radius: 50px; border: 2px solid rgba(255, 255, 255, 0.7);
        }
        .user-avatar { width: 32px; height: 32px; border-radius: 50%; border: 2px solid #fff; object-fit: cover; }
        
        .withdraw-btn {
            position: fixed; top: 15px; right: 15px; z-index: 100;
            background: linear-gradient(180deg, #4ade80 0%, #16a34a 100%);
            color: white; font-weight: 800; font-size: 12px; padding: 8px 16px;
            border-radius: 50px; border: 2px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 4px 15px rgba(22, 163, 74, 0.4); cursor: pointer;
        }

        /* –ê–ö–í–ê–†–ò–£–ú */
        #aquarium { position: fixed; inset: 0; pointer-events: none; z-index: 1; }
        .fish { position: absolute; font-size: 24px; animation: swim linear infinite; opacity: 0.7; }
        @keyframes swim { from { transform: translateX(-15vw); } to { transform: translateX(115vw); } }
        .bubble { position: absolute; background: rgba(255, 255, 255, 0.4); border: 1px solid rgba(255, 255, 255, 0.6); border-radius: 50%; animation: rise linear infinite; }
        @keyframes rise { 0% { transform: translateY(110vh) scale(0.5); opacity: 0; } 100% { transform: translateY(-10vh) scale(1.2); opacity: 0; } }

        /* –ö–û–†–ü–£–° */
        .casino-cabinet {
            background: rgba(255, 255, 255, 0.25); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 3px solid rgba(255, 255, 255, 0.7); border-radius: 40px;
            box-shadow: 0 30px 60px rgba(0,0,0,0.3); width: 92vw; max-width: 380px; padding: 20px;
            position: relative; z-index: 10; display: flex; flex-direction: column; gap: 15px;
        }

        .logo-text {
            font-size: 2.8rem; font-weight: 900; background: linear-gradient(to bottom, #00a3ff, #005a9e);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-align: center; font-style: italic;
        }

        .display-screen {
            background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6));
            border-radius: 25px; padding: 12px; border: 2px solid #fff;
        }

        .reels-area {
            background: #fff; border-radius: 25px; height: 130px; display: flex; gap: 8px; padding: 8px;
            position: relative; border: 4px solid #e1f5fe; overflow: hidden;
        }
        .reel-col { flex: 1; height: 100%; position: relative; overflow: hidden; background: #f8fdff; border-radius: 12px; }
        .strip-inner { position: absolute; width: 100%; display: flex; flex-direction: column; transition: transform 3s cubic-bezier(0.15, 0, 0.1, 1); }
        .sym { height: 114px; display: flex; align-items: center; justify-content: center; font-size: 2.8rem; }

        .action-btn {
            background: linear-gradient(180deg, #5ecfff 0%, #0078d7 50%, #005a9e 100%);
            border: 2px solid rgba(255,255,255,0.6); border-radius: 20px; color: white;
            font-weight: bold; padding: 15px; font-size: 1.25rem; box-shadow: 0 10px 20px rgba(0, 120, 215, 0.3);
        }

        .inventory-item { display: inline-flex; align-items: center; background: white; padding: 2px 10px; border-radius: 10px; font-size: 11px; font-weight: bold; border: 1px solid #e0f2f1; }
        .clover-glow { border-color: #4ade80 !important; box-shadow: 0 0 25px rgba(74, 222, 128, 0.5) !important; }

        /* –ú–û–î–ê–õ–ö–ò */
        .aero-modal {
            background: rgba(255, 255, 255, 0.95); border-radius: 35px; border: 3px solid #00a3ff;
            padding: 30px; box-shadow: 0 0 50px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>

    <div class="user-profile">
        <img id="user-pic" class="user-avatar" src="https://via.placeholder.com/100" alt="Ava">
        <span id="user-display-name" class="user-name">Player</span>
    </div>

    <button class="withdraw-btn" onclick="openWithdraw()">–í–´–í–û–î</button>

    <div id="aquarium"></div>

    <div class="casino-cabinet" id="main-cabinet">
        <header class="main-header"><div class="logo-text">SwisCasino</div></header>

        <div class="display-screen">
            <div class="text-[10px] font-bold text-sky-600 uppercase text-center mb-1">–í–∞—à –ë–∞–ª–∞–Ω—Å</div>
            <div class="text-4xl font-black text-sky-900 text-center" id="bal-val">1000</div>
            <div class="flex justify-center gap-2 mt-2 h-6">
                <div id="item-c" class="hidden inventory-item text-green-600">üçÄ <span id="c-count">0</span></div>
                <div id="item-b" class="hidden inventory-item text-orange-600">üçî <span id="b-count">0</span></div>
            </div>
        </div>

        <div class="reels-area">
            <div class="reel-col"><div id="s1" class="strip-inner"></div></div>
            <div class="reel-col"><div id="s2" class="strip-inner"></div></div>
            <div class="reel-col"><div id="s3" class="strip-inner"></div></div>
        </div>

        <div class="flex flex-col gap-3">
            <input type="number" id="bet-val" value="10" min="10" class="w-full bg-white/80 border-2 border-sky-100 rounded-2xl p-3 text-center text-xl font-black text-sky-900 outline-none">
            <button id="spin-btn" onclick="triggerSpin()" class="action-btn">–ö–†–£–¢–ò–¢–¨</button>
            <div class="text-[9px] font-bold text-sky-800/40 text-center uppercase cursor-pointer" onclick="togglePromo(true)">–ë–æ–Ω—É—Å-–∫–æ–¥</div>
        </div>
        <div id="status-line" class="text-center h-4 text-xs font-bold italic text-sky-700 mt-2"></div>
    </div>

    <div id="withdraw-modal" class="fixed inset-0 bg-sky-900/40 backdrop-blur-sm hidden flex items-center justify-center z-[200] p-6">
        <div class="aero-modal w-full max-w-[320px] text-center">
            <h3 class="text-xl font-black text-green-600 mb-2 uppercase">–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h3>
            <p class="text-xs text-sky-800 mb-4">10,000 –º–æ–Ω–µ—Ç = 15 –∑–≤—ë–∑–¥ ‚≠ê</p>
            <div class="bg-white/50 p-4 rounded-2xl border border-sky-100 mb-4 text-sm font-medium">
                –î–ª—è –≤—ã–≤–æ–¥–∞ –Ω–∞–ø–∏—à–∏—Ç–µ <br>
                <a href="https://t.me/AlexFin_Official" class="text-blue-600 font-bold underline">@AlexFin_Official</a> <br>
                –∏ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –±–∞–ª–∞–Ω—Å–∞.
            </div>
            <button onclick="closeWithdraw()" class="action-btn w-full py-2 text-sm">–ü–û–ù–Ø–¢–ù–û</button>
        </div>
    </div>

    <div id="promo-modal" class="fixed inset-0 bg-sky-900/30 backdrop-blur-sm hidden flex items-center justify-center z-[200] p-6">
        <div class="aero-modal w-full max-w-[300px] text-center">
            <h3 class="text-lg font-black text-sky-700 mb-4 uppercase">–ë–æ–Ω—É—Å-–∫–æ–¥</h3>
            <input type="text" id="code-in" class="w-full border-2 border-sky-100 rounded-xl p-3 text-center font-bold mb-4 uppercase outline-none">
            <button onclick="apply()" class="action-btn w-full py-3 text-sm">–û–ö</button>
            <button onclick="togglePromo(false)" class="mt-4 text-[10px] font-bold text-gray-400">–ó–ê–ö–†–´–¢–¨</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); tg.ready();

        const SYMS = ['üçé', 'üçå', 'üçã', 'ü´ê', '7Ô∏è‚É£', '‚ûñ'];
        const DATA = { '7Ô∏è‚É£': {w:1, m3:100, m2:10}, 'üçé': {w:3, m3:10, m2:3}, 'üçå': {w:5, m3:5, m2:2}, 'üçã': {w:7, m3:3, m2:1.5}, 'ü´ê': {w:10, m3:2, m2:1.2}, '‚ûñ': {w:6, m3:-5, m2:-1.5} };

        let state = { bal:1000, c:0, b:0, busy:false, used: new Set() };

        function init() {
            if (tg.initDataUnsafe?.user) {
                const user = tg.initDataUnsafe.user;
                document.getElementById('user-display-name').innerText = user.first_name;
                if (user.photo_url) document.getElementById('user-pic').src = user.photo_url;
            }
            const aq = document.getElementById('aquarium');
            for(let i=0; i<15; i++) {
                let b = document.createElement('div'); b.className = 'bubble';
                let s = Math.random()*20+10; b.style.width = s+'px'; b.style.height = s+'px';
                b.style.left = Math.random()*100+'vw'; b.style.animationDuration = (Math.random()*5+5)+'s';
                aq.appendChild(b);
            }
            [1,2,3].forEach(id => {
                const s = document.getElementById('s'+id);
                for(let i=0; i<40; i++) {
                    let d = document.createElement('div'); d.className = 'sym';
                    d.innerText = SYMS[Math.floor(Math.random()*SYMS.length)];
                    s.appendChild(d);
                }
            });
            update();
        }

        function update() {
            document.getElementById('bal-val').innerText = state.bal.toLocaleString();
            document.getElementById('c-count').innerText = state.c;
            document.getElementById('b-count').innerText = state.b;
            document.getElementById('item-c').classList.toggle('hidden', state.c <= 0);
            document.getElementById('item-b').classList.toggle('hidden', state.b <= 0);
            document.getElementById('main-cabinet').classList.toggle('clover-glow', state.c > 0);
        }

        function triggerSpin() {
            if(state.busy) return;
            const bet = parseInt(document.getElementById('bet-val').value);
            if(bet > state.bal) return msg("–ú–∞–ª–æ –º–æ–Ω–µ—Ç", "red");
            
            tg.HapticFeedback?.impactOccurred('medium');
            state.bal -= bet;
            let lucky = state.c > 0;
            if(lucky) state.c--;
            state.busy = true; update();

            let res = [];
            [1,2,3].forEach((id, i) => {
                const strip = document.getElementById('s'+id);
                let pick = (lucky && Math.random() < 0.3) ? '7Ô∏è‚É£' : SYMS[Math.floor(Math.random()*SYMS.length)];
                res.push(pick);
                strip.lastElementChild.innerText = pick;
                strip.style.transition = 'none'; strip.style.transform = 'translateY(0)';
                setTimeout(() => {
                    strip.style.transition = `transform ${2 + i*0.4}s cubic-bezier(0.1, 0, 0.1, 1)`;
                    strip.style.transform = `translateY(-${(40-1)*114}px)`;
                }, 50);
            });

            setTimeout(() => {
                state.busy = false; checkWin(res, bet);
            }, 3100);
        }

        function checkWin(res, bet) {
            const [a, b, c] = res;
            let win = 0;
            if(a===b && b===c) win = bet * 5;
            else if(a===b || b===c || a===c) win = Math.floor(bet * 1.5);
            state.bal += win;
            msg(win > 0 ? `+${win}!` : "–ú–∏–º–æ", win > 0 ? "green" : "#0078d7");
            update();
        }

        function msg(t, c) { let e = document.getElementById('status-line'); e.innerText = t; e.style.color = c; }
        
        function togglePromo(s) { document.getElementById('promo-modal').classList.toggle('hidden', !s); }
        function openWithdraw() {
            if (state.bal < 10000) {
                tg.showAlert("–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è –≤—ã–≤–æ–¥–∞: 10,000 –º–æ–Ω–µ—Ç. –°–µ–π—á–∞—Å: " + state.bal);
                return;
            }
            document.getElementById('withdraw-modal').classList.remove('hidden');
        }
        function closeWithdraw() { document.getElementById('withdraw-modal').classList.add('hidden'); }

        function apply() {
            const f = document.getElementById('code-in');
            const v = f.value.trim().toUpperCase();
            if(!v || state.used.has(v)) return;

            let ok = false;
            if(v === 'REBOOT') { state.bal += 1000; ok = true; }
            else if(v === 'CLOVER') { state.c += 3; ok = true; }
            else if(v === 'AF') { state.bal += 13; ok = true; }
            else if(v === 'WEIMIX') { state.bal += 56; ok = true; }
            else if(v === 'VAITEK') { state.b += 1; ok = true; }

            if(ok) {
                state.used.add(v); update(); f.value = ""; togglePromo(false);
                tg.HapticFeedback?.notificationOccurred('success');
                msg("–ö–û–î –ü–†–ò–ù–Ø–¢", "green");
            }
        }

        window.onload = init;
    </script>
</body>
  </html>
  
